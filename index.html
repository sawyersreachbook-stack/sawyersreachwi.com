<!DOCTYPE html>
<html>
<head>
    <!-- 
        This is an official town website, built in the style of the mid-1990s,
        designed to look ignored and severely outdated, utilizing the classic institutional-
        colors of beige and dark green for a warmer, slightly friendlier look than pure gray.
    -->
    <title>Sawyer's Reach, WI - Official Town Webpage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<!-- Body background is now Beige (EBEBEB) -->
<body bgcolor="#EBEBEB" text="#000000" link="#006600" vlink="#800080">

<!-- Outer table for centering the main content area -->
<table width="95%" border="1" cellpadding="0" cellspacing="0" align="center" bgcolor="#FFFFFF" style="border-color: #000000;">
<tr>
    <td>

    <!-- Header Section: Official Banner (Deceper Institutional Blue) -->
    <center>
        <table width="100%" border="0" cellpadding="10" cellspacing="0" bgcolor="#A9B8C5" style="border-bottom: 3px solid #000000;">
            <tr>
                <td align="center">
                    <!-- Formal font and size for the official name -->
                    <font size="+3" face="'Times New Roman', Times, serif">
                        <B>OFFICIAL WEBSITE OF SAWYER'S REACH, WISCONSIN</B>
                    </font>
                    <br>
                    <font size="2" face="Arial, Helvetica, sans-serif">
                        Est. 1898. Proudly serving residents and visitors.
                    </font>
                </td>
            </tr>
        </table>
    </center>
    
    <p>
    
    <!-- Main Content Layout Table: Navigation and Content -->
    <table width="100%" border="0" cellpadding="10" cellspacing="0">
        <tr valign="top">
            
            <!-- Left Navigation Bar (Fixed Width, Institutional Tan/Beige) -->
            <td width="180" bgcolor="#DCDCDC" style="border-right: 1px solid #C0C0C0;">
                <p>
                <font size="3" face="Verdana">
                    <B>Site Index</B><BR>
                    <hr size="1" color="#000000">
                    <!-- Links now use the Dark Green -->
                    <a href="#welcome" style="color: #006600;">Welcome</a><BR>
                    <a href="#officials" style="color: #006600;">Town Government</a><BR>
                    <a href="#attractions" style="color: #006600;">Local Attractions</a><BR>
                    <!-- "PowerCore" link removed/broken to show neglect -->
                    <a href="broken_page.html" style="color: #FF0000;">**NEW** PowerCore Dev.</a><BR> 
                    <a href="#contact" style="color: #006600;">Contact Information</a><BR>
                    <hr size="1" color="#000000">

                    <h3><font color="#006600">What's New?</font></h3>
                    <font size="2" face="Arial">
                    <ul style="margin-left: -10px;">
                        <li>06/05/25: Site upgraded to Version 2.0!</li>
                        <li>03/12/25: New Zoning Map available (PDF).</li>
                        <li>11/15/24: Annual Town Meeting Minutes posted.</li>
                    </ul>
                    </font>

                    <!-- Official Seal Placeholder -->
                    <center>
                        <font size="2" color="#404040">TOWN SEAL PENDING</font>
                        <br>
                        <img src="https://raw.githubusercontent.com/sawyersreachbook-stack/sawyersreachwi.com/refs/heads/main/images/sawyers_reach_seal.png" border="1" width="100" style="border-color: #000000; margin-top: 5px; margin-bottom: 10px;">
                    </center>
                </font>
            </td>

            <!-- Right Main Content Area (White background like a document) -->
            <td bgcolor="#FFFFFF" style="padding: 20px;">
                <font size="3" face="Georgia, 'Times New Roman', Times, serif">
                    
                    <!-- Section 1: Welcome -->
                    <a name="welcome"></a>
                    <h2><font color="#006600">Welcome to Sawyer's Reach</font></h2>
                    
                    <p>
                    Sawyer's Reach welcomes residents and visitors to enjoy our beautiful wilderness and traditional way of life. Located near the majestic Reach Lake, our community prides itself on local industry and the clear waters fed by Inspiration Spring. We strive for measured, sustainable growth to ensure our town's longevity for future generations.
                    </p>
                    
                    <!-- Section 2: Government Officials -->
                    <a name="officials"></a>
                    <hr size="1" color="#D3D3D3">
                    <h2><font color="#006600">Town Government & Staff</font></h2>
                    
                    <p>
                    The following individuals serve the public interest of Sawyer's Reach:
                    </p>

                    <h3><font color="#006600">Elected Officials</font></h3>
                    <table border="1" cellpadding="5" cellspacing="0" width="100%" bgcolor="#F0F0F0" style="border-color: #C0C0C0; margin-bottom: 20px;">
                        <tr>
                            <td width="30%"><B>Office</B></td>
                            <td width="40%"><B>Name</B></td>
                            <td width="30%"><B>Contact (Voicemail Only)</B></td>
                        </tr>
                        <tr>
                            <td>Mayor</td>
                            <td>Mayor Warren</td>
                            <td>(715) 341-1898</td>
                        </tr>
                        <tr>
                            <td>Chief of Police</td>
                            <td>Chief Holt</td>
                            <td>(715) 341-1900</td>
                        </tr>
                        <tr>
                            <td>Town Treasurer</td>
                            <td>L. Vance</td>
                            <td>(715) 341-1901</td>
                        </tr>
                    </table>

                    <h3><font color="#006600">Town Hall Staff & Administration</font></h3>
                    <table border="1" cellpadding="5" cellspacing="0" width="100%" bgcolor="#F0F0F0" style="border-color: #C0C0C0;">
                        <tr>
                            <td width="30%"><B>Department</B></td>
                            <td width="40%"><B>Name/Title</B></td>
                            <td width="30%"><B>Extension</B></td>
                        </tr>
                        <tr>
                            <td>Town Clerk</td>
                            <td>P. Jenkins</td>
                            <td>Ext. 101</td>
                        </tr>
                        <tr>
                            <td>Zoning Officer</td>
                            <td>A. Monroe</td>
                            <td>Ext. 102</td>
                        </tr>
                        <tr>
                            <td>Building Inspector</td>
                            <td>D. Miller</td>
                            <td>Ext. 103</td>
                        </tr>
                        <tr>
                            <td>Records Custodian</td>
                            <td>J. Finch</td>
                            <td>Ext. 104</td>
                        </tr>
                        <tr>
                            <td>Community Liaison</td>
                            <td>C. Lewis</td>
                            <td>Ext. 105</td>
                        </tr>
                    </table>
                    
                    <!-- Section 3: Local Attractions -->
                    <a name="attractions"></a>
                    <hr size="1" color="#D3D3D3">
                    <h2><font color="#006600">Local Attractions & Events</font></h2>
                    <center>
                        <!-- Dull tourism image placeholder -->
                        <img src="https://placehold.co/400x120/A9A9A9/FFFFFF?text=REACH+LAKE+AND+LOCAL+FISHING" alt="Reach Lake Tourism Photo" border="2" style="border-color: #D3D3D3;">
                    </center>
                    
                    <p>
                    The Carter Mill is an active hub of local lumber and trade. Inspiration Spring remains the most important natural resource, providing our community with exceptionally clean water. Reach Lake is the prime destination for summer tourism, offering excellent opportunities for boating, swimming, and fishing.
                    </p>

                    <p>
                    Visitors are encouraged to check out the historic Grand Reach Lodge for exceptional dining and lodging. The Lodge is a central community gathering place, hosting various events throughout the year. For outdoor enthusiasts, Camp Inspiration provides family-friendly camping and guided wilderness activities near the Spring.
                    </p>

                    <p>
                    Our quaint Town Square features a selection of local shops and stores, offering everything from handcrafted goods to fishing supplies. Popular lake activities include fishing for Northern Pike, competitive sailing, and the annual community boat parade.
                    </p>

                    <ul>
                        <li><font color="#000000">Local Farmer's Market (Saturdays, 8 AM - 1 PM at the Town Square)</font></li>
                        <li><font color="#000000">Annual Town Picnic and Summer Carnival (Mid-July)</font></li>
                        <li><font color="#000000">Planning Commission Meetings: Every second Tuesday of the month (focusing on local infrastructure improvements).</font></li>
                    </ul>
                    
                    <!-- Section 4: PowerCore Development (Now Stale) -->
                    <a name="powercore"></a>
                    <hr size="1" color="#D3D3D3">
                    <h2><font color="#006600">PowerCore Development</font></h2>
                    
                    <p>
                    Information regarding the proposed industrial/research complex remains available at the Town Hall. This ambitious project is expected to bring substantial economic and technological benefit to the region upon completion, with special emphasis on the potential for clean energy research and development, subject to Town Council approval. (Information last updated 07/01/2024)
                    </p>

                    <p>
                    Thank you for visiting the Sawyer's Reach official website.
                    </p>
                    
                </font>
            </td>
        </tr>
    </table>

    <!-- Footer Section -->
    <center>
        <hr size="1" color="#000000">
        
        <!-- Marquee now runs below the content, indicating old news -->
        <marquee bgcolor="#D0D0D0" scrollamount="3" direction="left" style="color: #000080; border: 1px solid #C0C0C0; margin-bottom: 5px;">
            <font face="Verdana" size="2">
                REMINDER: Town Hall will be closed on all national holidays. Please check our official notice board for details.
            </font>
        </marquee>
        
        <font size="2" face="Arial, Helvetica, sans-serif" color="#404040">
            [ <a href="mailto:clerk@sawyersreachwi.gov">Email Town Clerk</a> | <a href="#top">Return to Top</a> ]
            <br>
            <B>Site Last Updated: October 21, 2024</B>
            <br>
            &#169; 2024 Town of Sawyer's Reach. <font color="#FF0000">WARNING: Unauthorized reproduction strictly prohibited.</font>
        </font>

        <p>
        <!-- The institutional-looking hit counter (NOW DYNAMIC) -->
        <B>VISITORS:</B>
        <span id="visitorCount" style="
            background-color: #DCDCDC; 
            border: 1px solid #000000; 
            padding: 2px 10px; 
            font-family: 'Courier New', monospace; 
            font-size: 16px;
            display: inline-block;
            min-width: 80px;
            text-align: right;
        ">Loading...</span>
        </p>

    </center>

    </td>
</tr>
</table>

</body>

<!-- FIREBASE/JAVASCRIPT MODULE FOR DYNAMIC COUNTER -->
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, doc, getDoc, setDoc, increment, runTransaction } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
    
    // --- MANDATORY GLOBAL VARIABLES ---
    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
    const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
    // Renamed local constant to avoid initialization conflict with the global symbol
    const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
    
    // --- UTILITY FOR DISPLAY ---
    function formatCount(count) {
        // Formats the number to look like the old 90s counter (e.g., 001,375)
        return count.toLocaleString('en-US', { minimumIntegerDigits: 6 });
    }

    // --- MAIN FUNCTION ---
    async function initAndCount() {
        if (!firebaseConfig || !Object.keys(firebaseConfig).length) {
            console.error("Firebase configuration missing. Cannot run counter.");
            document.getElementById('visitorCount').textContent = 'ERROR';
            return;
        }

        try {
            const app = initializeApp(firebaseConfig);
            const db = getFirestore(app);
            const auth = getAuth(app);
            
            // 1. Authenticate Anonymously (needed for write access to public data)
            if (initialAuthToken) { // Check the locally defined constant
                // If a token is provided, use it
                await signInWithCustomToken(auth, initialAuthToken);
            } else {
                // Otherwise, sign in anonymously
                await signInAnonymously(auth);
            }

            // 2. Define the public document path for the shared counter
            const counterDocRef = doc(db, 'artifacts', appId, 'public', 'data', 'website_data', 'sawyers_reach_counter');
            
            // 3. Update the count using a transaction to ensure atomic increment
            await runTransaction(db, async (transaction) => {
                const counterDoc = await transaction.get(counterDocRef);
                
                if (!counterDoc.exists()) {
                    // Initialize the count if the document doesn't exist.
                    // Start at 472 for the first visitor to show prior history.
                    const initialCount = 472; 
                    transaction.set(counterDocRef, { count: initialCount });
                    document.getElementById('visitorCount').textContent = formatCount(initialCount);
                    console.log("Initialized new counter at 472.");
                } else {
                    // Increment the count
                    const newCount = counterDoc.data().count + 1;
                    transaction.update(counterDocRef, { count: newCount });
                    document.getElementById('visitorCount').textContent = formatCount(newCount);
                    console.log("Counter incremented to:", newCount);
                }
            });

        } catch (error) {
            console.error("Error updating visitor counter:", error);
            // Fallback for visual display if the count fails
            document.getElementById('visitorCount').textContent = 'FALED';
        }
    }

    // Run the function when the window loads
    window.addEventListener('load', initAndCount);

    // Implement simple exponential backoff for fetch retries (Firestore uses fetch internally)
    // This is a standard guardrail, but Firestore SDK handles retries internally.
    // However, including the function template for completeness in line with instructions:
    const fetchWithRetry = async (url, options, retries = 3) => {
        // Simple placeholder for exponential backoff logic, actual SDK handles retries
        return fetch(url, options);
    };

</script>
</html>
65
